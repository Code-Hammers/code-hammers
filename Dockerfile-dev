#SET NODE VERSION
FROM node:18.17.1

#INSTALL WEBPACK GLOBALLY
RUN npm install webpack -g

#CONTAINER WORKING DIRECTORY
WORKDIR /usr/src/app

#COPY FILES INTO CONTANER AT /usr/src/app
COPY . .

#TYING TO EXPLICITLY COPY THE CLIENT FOLDER
COPY ./client /usr/src/app/client

#INSTALL ROOT PACKAGES
RUN npm install

#INSTAL CLIENT PACKAGES
RUN cd client && npm install

#EXPOSE THE WEBPACK-DEV-SERVER PORT
EXPOSE 3000

